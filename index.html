<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Casco Antiguo - Participación Turística</title>
  <link rel="icon" href="https://i.pinimg.com/originals/6c/fd/21/6cfd2101233405c53fd23742be575817.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    :root {
      --azul-marino: #002366;
      --dorado: #D4AF37;
      --rojo: #C8102E;
      --blanco: #FFFFFF;
      --gris-claro: #F5F5F5;
      --gris-medio: #E0E0E0;
      --gris-oscuro: #333333;
      --sombra: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
      background-color: var(--gris-claro);
      color: var(--gris-oscuro);
      line-height: 1.6;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    .card {
      background-color: var(--blanco);
      border-radius: 10px;
      box-shadow: var(--sombra);
      padding: 30px;
      margin-bottom: 30px;
    }

    .header {
      background-color: var(--azul-marino);
      color: var(--blanco);
      padding: 15px 0;
      position: relative;
      margin-bottom: 30px;
    }

    .header-content {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    h1 {
      color: var(--azul-marino);
      text-align: center;
      font-size: 2.2rem;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--dorado);
      position: relative;
    }

    h1::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background-color: var(--rojo);
    }

    .intro-text {
      text-align: center;
      margin-bottom: 30px;
      color: var(--gris-oscuro);
      font-size: 1.1rem;
      line-height: 1.7;
    }

    h2 {
      color: var(--azul-marino);
      font-size: 1.5rem;
      margin: 25px 0 15px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--gris-medio);
    }

    h2 i {
      margin-right: 10px;
      color: var(--dorado);
    }

    label {
      display: block;
      margin: 15px 0 8px;
      font-weight: 600;
      color: var(--azul-marino);
    }

    input, select, textarea {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid var(--gris-medio);
      border-radius: 6px;
      font-size: 1rem;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    input:focus, select:focus, textarea:focus {
      border-color: var(--dorado);
      box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
      outline: none;
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .checkbox-group, .radio-group {
      margin: 15px 0;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }

    .checkbox-inline, .radio-inline {
      display: flex;
      align-items: center;
      cursor: pointer;
      font-size: 0.9rem;
    }

    .checkbox-inline input, .radio-inline input {
      width: auto;
      margin-right: 8px;
      min-width: 18px;
    }

    .hidden {
      display: none;
    }

    .btn {
      display: inline-block;
      background-color: var(--azul-marino);
      color: var(--blanco);
      border: none;
      padding: 12px 25px;
      font-size: 1rem;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
      text-decoration: none;
      box-shadow: var(--sombra);
    }

    .btn:hover {
      background-color: #001a4d;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
    }

    .btn-primary {
      background-color: var(--azul-marino);
    }

    .btn-danger {
      background-color: var(--rojo);
    }

    .btn-gold {
      background-color: var(--dorado);
      color: var(--azul-marino);
    }

    .btn-block {
      display: block;
      width: 100%;
    }

    #loginPopup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 35, 102, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    #loginPopup form {
      background: var(--blanco);
      padding: 2.5rem;
      border-radius: 10px;
      max-width: 450px;
      width: 90%;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    #loginPopup h3 {
      color: var(--azul-marino);
      margin-bottom: 25px;
      font-size: 1.8rem;
    }

    .form-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .form-header img {
      max-width: 120px;
      margin-bottom: 15px;
    }

    .form-footer {
      text-align: center;
      margin-top: 30px;
      color: var(--gris-oscuro);
      font-size: 0.9rem;
    }

    .horario-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .horario-input {
      width: 100px !important;
      padding: 10px !important;
    }

    .horario-separador {
      font-size: 0.9rem;
      color: var(--gris-oscuro);
    }

    .section-divider {
      height: 1px;
      background: linear-gradient(to right, transparent, var(--dorado), transparent);
      margin: 30px 0;
    }

    /* Estilos para los días de atención */
    .dias-atencion {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 8px;
      margin: 15px 0;
    }

    .dia-option {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px 5px;
      background: var(--gris-claro);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 0.9rem;
    }

    .dia-option:hover {
      background: var(--dorado);
      color: var(--blanco);
    }

    .dia-option.selected {
      background: var(--azul-marino);
      color: var(--blanco);
    }

    .dia-option input {
      display: none;
    }

    .coordenadas-info {
      font-size: 0.85rem;
      color: var(--gris-oscuro);
      margin-top: 5px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .coordenadas-info i {
      color: var(--dorado);
    }

    @media (max-width: 900px) {
      .checkbox-group {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .dias-atencion {
        grid-template-columns: repeat(4, 1fr);
      }
      
      /* Asegurar que los días ocupen exactamente 2 filas */
      .dia-option:nth-child(5) {
        grid-column: 1 / span 1;
      }
      .dia-option:nth-child(6) {
        grid-column: 2 / span 1;
      }
      .dia-option:nth-child(7) {
        grid-column: 3 / span 1;
      }
      .dia-option:nth-child(8) {
        grid-column: 4 / span 1;
      }
    }

    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      .card {
        padding: 20px;
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      h2 {
        font-size: 1.3rem;
      }
      
      .checkbox-group {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .horario-group {
        flex-wrap: wrap;
      }
      
      .horario-input {
        width: 100% !important;
      }
    }

    @media (max-width: 480px) {
      .dias-atencion {
        grid-template-columns: repeat(4, 1fr);
      }
      
      /* Asegurar 2 filas exactas en móviles */
      .dia-option:nth-child(5) {
        grid-column: 1 / span 1;
      }
      .dia-option:nth-child(6) {
        grid-column: 2 / span 1;
      }
      .dia-option:nth-child(7) {
        grid-column: 3 / span 1;
      }
      .dia-option:nth-child(8) {
        grid-column: 4 / span 1;
      }
      
      .header-content {
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
    }

    /* Animaciones */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .card {
      animation: fadeIn 0.5s ease-out forwards;
    }

    /* Mejoras visuales para checkboxes y radios */
    input[type="checkbox"], input[type="radio"] {
      width: 18px;
      height: 18px;
      accent-color: var(--dorado);
    }
  </style>
</head>
<body>

<div id="loginPopup">
  <form onsubmit="return verificarAcceso(event)">
    <div class="form-header">
      <h3><i class="fas fa-lock"></i> Acceso restringido</h3>
    </div>
    <div class="form-group">
      <label for="usuario">Usuario:</label>
      <input type="text" id="usuario" required>
    </div>
    <div class="form-group">
      <label for="contrasena">Contraseña:</label>
      <input type="password" id="contrasena" required>
    </div>
    <button type="submit" class="btn btn-gold btn-block">
      <i class="fas fa-sign-in-alt"></i> Ingresar
    </button>
  </form>
</div>

<div class="header hidden" id="headerSesion">
  <div class="header-content">
    <span>Casco Antiguo</span>
    <button class="btn btn-danger" onclick="cerrarSesion()">
      <i class="fas fa-sign-out-alt"></i> Cerrar sesión
    </button>
  </div>
</div>

<div class="container">
  <div class="card">
    <h1>
      <i class="fas fa-map-marked-alt"></i> Casco Antiguo - Participación Turística Comunitaria
    </h1>
    
    <p class="intro-text">
      Esta encuesta tiene como objetivo recopilar información para el desarrollo de una solución digital 
      que integre los servicios turísticos del destino. Sus respuestas nos ayudarán a crear una plataforma 
      que beneficie a toda la comunidad. Todos los datos proporcionados serán utilizados únicamente con 
      fines de investigación y desarrollo del proyecto.
    </p>

    <form id="formulario">
      <h2><i class="fas fa-star"></i> 1. Interés y percepción</h2>

      <div class="form-group">
        <label>¿Le parece útil una solución digital que integre todos los servicios turísticos del destino?</label>
        <select name="interes_digital" required>
          <option value="">Seleccione una opción</option>
          <option>Sí</option>
          <option>No</option>
          <option>No estoy seguro/a</option>
        </select>
      </div>

      <div class="form-group">
        <label>¿Le gustaría que su establecimiento esté presente en esta app?</label>
        <select name="quiere_aparecer" required>
          <option value="">Seleccione una opción</option>
          <option>Sí</option>
          <option>Tal vez</option>
          <option>No</option>
        </select>
      </div>

      <div class="form-group">
        <label>¿Estaría dispuesto/a a pagar una cuota mensual por visibilidad en la plataforma?</label>
        <select name="dispuesto_pagar" required>
          <option value="">Seleccione una opción</option>
          <option>Sí</option>
          <option>Tal vez</option>
          <option>No</option>
        </select>
      </div>

      <div class="form-group">
        <label>¿Qué rango de cuota mensual le parece razonable?</label>
        <select name="cuota_mensual" class="select-con-otro">
          <option value="">Seleccione una opción</option>
          <option>$15 – $20</option>
          <option>$21 – $30</option>
          <option>$31 – $40</option>
          <option>Más de $40</option>
          <option value="otro">Otro</option>
        </select>
        <div class="otro-especifique hidden">
          <label>Especifique otro monto</label>
          <textarea name="cuota_otro" rows="2" placeholder="Por favor, especifique el monto"></textarea>
        </div>
      </div>

      <div class="section-divider"></div>

      <h2><i class="fas fa-cogs"></i> 2. Funcionalidades deseadas</h2>
      <div class="form-group">
        <label>Seleccione lo que le gustaría que aparezca en la app:</label>
        <div class="checkbox-group">
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Mapa"> Mapa</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Fotos"> Fotos</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Contacto"> Contacto</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Opiniones"> Opiniones</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Horarios"> Horarios</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Servicios"> Servicios</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Reservas"> Reservas</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Promociones"> Promociones</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Idiomas"> Idiomas</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Agenda"> Agenda</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="todas" class="check-todas"> Todas las anteriores</label>
          <label class="checkbox-inline"><input type="checkbox" name="funcionalidades" value="Otro" class="check-otro"> Otro</label>
        </div>
        <div class="otro-especifique hidden">
          <label>Especifique otra funcionalidad</label>
          <textarea name="func_otro" rows="2" placeholder="Describa la funcionalidad que desearía"></textarea>
        </div>
      </div>

      <div class="section-divider"></div>

      <h2><i class="fas fa-store"></i> 3. Información del establecimiento</h2>

      <div class="form-group">
        <label>Nombre del establecimiento</label>
        <input type="text" name="nombre_establecimiento" required placeholder="Ej: Restaurante La Casa del Mar">
      </div>

      <div class="form-group">
        <label>Dirección física o aproximada</label>
        <input type="text" name="direccion" required placeholder="Ej: Calle Principal #123, Ciudad">
        <input type="hidden" name="coordenadas" id="coordenadas">
        <div class="coordenadas-info">
          <i class="fas fa-map-marker-alt"></i>
          <span id="coordenadas-texto">Obteniendo coordenadas GPS...</span>
        </div>
      </div>

      <div class="form-group">
        <label>Días de atención</label>
        <div class="dias-atencion">
          <label class="dia-option" data-dia="D"><input type="checkbox" name="dias[]" value="D">D</label>
          <label class="dia-option" data-dia="L"><input type="checkbox" name="dias[]" value="L">L</label>
          <label class="dia-option" data-dia="Ma"><input type="checkbox" name="dias[]" value="Ma">Ma</label>
          <label class="dia-option" data-dia="Mi"><input type="checkbox" name="dias[]" value="Mi">Mi</label>
          <label class="dia-option" data-dia="J"><input type="checkbox" name="dias[]" value="J">J</label>
          <label class="dia-option" data-dia="V"><input type="checkbox" name="dias[]" value="V">V</label>
          <label class="dia-option" data-dia="S"><input type="checkbox" name="dias[]" value="S">S</label>
          <label class="dia-option" id="todos-dias"><input type="checkbox">Todos</label>
        </div>
      </div>

      <div class="form-group">
        <label>Horario de atención</label>
        <div class="horario-group">
          <input type="time" name="hora_inicio" class="horario-input" required>
          <span class="horario-separador">hasta las</span>
          <input type="time" name="hora_fin" class="horario-input" required>
        </div>
      </div>

      <div class="form-group">
        <label>Capacidad</label>
        <input type="number" name="capacidad" min="0" placeholder="Número de personas">
      </div>

      <div class="form-group">
        <label>Número de empleados</label>
        <input type="number" name="empleados" min="0" placeholder="Número de empleados">
      </div>

      <div class="section-divider"></div>

      <h2><i class="fas fa-tags"></i> 4. Clasificación del negocio</h2>

      <div class="form-group">
        <label>Categoría principal</label>
        <select name="categoria" class="select-con-otro" required>
          <option value="">Seleccione una categoría</option>
          <option>Restaurante</option>
          <option>Hospedaje</option>
          <option>Tienda/Souvenir</option>
          <option>Museo</option>
          <option>Supermercado</option>
          <option>Centro de salud</option>
          <option>Transporte</option>
          <option>Ciber</option>
          <option>Coworking</option>
          <option>Bar</option>
          <option>Café</option>
          <option value="otro">Otro</option>
        </select>
        <div class="otro-especifique hidden">
          <label>Especifique otra categoría</label>
          <textarea name="categoria_otro" rows="2" placeholder="Describa la categoría de su negocio"></textarea>
        </div>
      </div>

      <div class="form-group">
        <label>Subcategoría o tipo específico</label>
        <input type="text" name="subcategoria" placeholder="Ej: Comida marina, Hostal boutique, etc.">
      </div>

      <div class="section-divider"></div>

      <h2><i class="fas fa-id-card"></i> 5. Datos de contacto</h2>

      <div class="form-group">
        <label>Nombre del gerente o responsable</label>
        <input type="text" name="gerente" required placeholder="Nombre completo">
      </div>

      <div class="form-group">
        <label>Teléfono (WhatsApp preferido)</label>
        <input type="tel" name="telefono" required placeholder="Ej: +507 6123 4567">
      </div>

      <div class="form-group">
        <label>Correo electrónico</label>
        <input type="email" name="correo" required placeholder="Ej: contacto@establecimiento.com">
      </div>

      <div class="form-group">
        <label>Redes sociales o presencia digital</label>
        <div class="checkbox-group">
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="Booking/Airbnb/Tripadvisor"> Booking/Airbnb/Tripadvisor</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="Pedidos Ya"> Pedidos Ya</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="Facebook"> Facebook</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="Instagram"> Instagram</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="WhatsApp"> WhatsApp</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="X"> X</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="TikTok"> TikTok</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="Página web"> Página web</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="todas" class="check-todas"> Todas las anteriores</label>
          <label class="checkbox-inline"><input type="checkbox" name="redes" value="Otro" class="check-otro"> Otro</label>
        </div>
      </div>

      <div class="section-divider"></div>

      <h2><i class="fas fa-comment-dots"></i> 6. Comentarios y sugerencias</h2>

      <div class="form-group">
        <label>¿Desea agregar alguna observación, idea o sugerencia?</label>
        <textarea name="sugerencias" rows="4" placeholder="Escriba aquí sus comentarios..."></textarea>
      </div>

      <button type="submit" class="btn btn-primary btn-block">
        <i class="fas fa-paper-plane"></i> Enviar formulario
      </button>

      <div class="form-footer">
        <p>Gracias por participar en nuestro proyecto turístico comunitario</p>
      </div>
    </form>
  </div>
</div>

<script>
  const USUARIO = "App";
  const CONTRASENA = "Panama";

  function verificarAcceso(e) {
    e.preventDefault();
    const u = document.getElementById("usuario").value;
    const p = document.getElementById("contrasena").value;

    if (u === USUARIO && p === CONTRASENA) {
      localStorage.setItem("accesoPermitido", "true");
      document.getElementById("loginPopup").style.display = "none";
      document.getElementById("headerSesion").classList.remove("hidden");
      document.getElementById("formulario").classList.remove("hidden");
      actualizarCoordenadas();
    } else {
      alert("Credenciales incorrectas. Por favor intente nuevamente.");
    }
  }

  function cerrarSesion() {
    localStorage.removeItem("accesoPermitido");
    document.getElementById("formulario").classList.add("hidden");
    document.getElementById("headerSesion").classList.add("hidden");
    document.getElementById("loginPopup").style.display = "flex";
    // Limpiar campos de login
    document.getElementById("usuario").value = "";
    document.getElementById("contrasena").value = "";
  }

  // Manejar selección de días
  document.querySelectorAll('.dia-option').forEach(option => {
    option.addEventListener('click', function() {
      const checkbox = this.querySelector('input[type="checkbox"]');
      checkbox.checked = !checkbox.checked;
      this.classList.toggle('selected', checkbox.checked);
      
      // Desmarcar "Todos" si se desmarca algún día
      if (!checkbox.checked && this.id !== "todos-dias") {
        document.getElementById("todos-dias").classList.remove("selected");
        document.getElementById("todos-dias").querySelector('input[type="checkbox"]').checked = false;
      }
    });
  });

  // Manejar botón "Todos" para días
  document.getElementById("todos-dias").addEventListener("click", function() {
    const todosCheckbox = this.querySelector('input[type="checkbox"]');
    const isChecked = !todosCheckbox.checked;
    
    todosCheckbox.checked = isChecked;
    this.classList.toggle("selected", isChecked);
    
    // Seleccionar/deseleccionar todos los días
    document.querySelectorAll('.dia-option:not(#todos-dias)').forEach(option => {
      const checkbox = option.querySelector('input[type="checkbox"]');
      checkbox.checked = isChecked;
      option.classList.toggle("selected", isChecked);
    });
  });

  // Manejar selección de "Todas las anteriores" en redes sociales
  document.querySelectorAll('.check-todas').forEach(todasCheckbox => {
    todasCheckbox.addEventListener('change', function() {
      const container = this.closest('.checkbox-group');
      const checkboxes = container.querySelectorAll('input[type="checkbox"]:not(.check-todas):not(.check-otro)');
      
      checkboxes.forEach(checkbox => {
        checkbox.checked = this.checked;
        const label = checkbox.closest('label');
        if (label) {
          label.classList.toggle('selected', this.checked);
        }
      });
      
      // Desmarcar "Otro" si está marcado
      const otroCheckbox = container.querySelector('.check-otro');
      if (otroCheckbox && otroCheckbox.checked) {
        otroCheckbox.checked = false;
        const otroLabel = otroCheckbox.closest('label');
        if (otroLabel) {
          otroLabel.classList.remove('selected');
        }
      }
    });
  });

  // Actualizar y mostrar coordenadas
  function actualizarCoordenadas() {
    if (navigator.geolocation) {
      const success = position => {
        const lat = position.coords.latitude.toFixed(6);
        const lng = position.coords.longitude.toFixed(6);
        document.getElementById("coordenadas").value = `${lat},${lng}`;
        document.getElementById("coordenadas-texto").textContent = `Coordenadas GPS: ${lat}, ${lng}`;
      };
      
      const error = err => {
        console.error("Error obteniendo ubicación:", err);
        document.getElementById("coordenadas-texto").textContent = "No se pudo obtener la ubicación GPS";
      };
      
      navigator.geolocation.getCurrentPosition(success, error);
      navigator.geolocation.watchPosition(success, error);
    } else {
      document.getElementById("coordenadas-texto").textContent = "Geolocalización no soportada por este navegador";
    }
  }

  window.onload = () => {
    if (localStorage.getItem("accesoPermitido") === "true") {
      document.getElementById("loginPopup").style.display = "none";
      document.getElementById("headerSesion").classList.remove("hidden");
      document.getElementById("formulario").classList.remove("hidden");
      actualizarCoordenadas();
    } else {
      document.getElementById("formulario").classList.add("hidden");
      document.getElementById("headerSesion").classList.add("hidden");
    }
  }

  // Mostrar campos "otro"
  document.querySelectorAll(".select-con-otro").forEach(sel => sel.addEventListener("change", () => {
    const contenedor = sel.nextElementSibling;
    contenedor.classList.toggle("hidden", sel.value !== "otro");
    if (sel.value !== "otro") contenedor.querySelector("textarea").value = "";
  }));
  
  document.querySelectorAll(".check-otro").forEach(chk => chk.addEventListener("change", () => {
    const contenedor = chk.closest(".checkbox-group").nextElementSibling;
    contenedor.classList.toggle("hidden", !chk.checked);
    if (!chk.checked) contenedor.querySelector("textarea").value = "";
  }));

  // Envío del formulario
  document.getElementById("formulario").addEventListener("submit", async function (e) {
    e.preventDefault();
    
    // Mostrar loader o feedback visual
    const submitBtn = e.target.querySelector('button[type="submit"]');
    const originalText = submitBtn.innerHTML;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
    submitBtn.disabled = true;
    
    try {
      const form = new FormData(this);
      form.set("funcionalidades", [...document.querySelectorAll('input[name="funcionalidades"]:checked:not(.check-todas)')].map(i => i.value).join(', '));
      form.set("redes", [...document.querySelectorAll('input[name="redes"]:checked:not(.check-todas)')].map(i => i.value).join(', '));
      form.set("dias", [...document.querySelectorAll('input[name="dias[]"]:checked')].map(i => i.value).join(', '));

      const data = Object.fromEntries(form);
      await fetch("https://script.google.com/macros/s/AKfycbxhbpP6ChYkX0ZywFfRbyAz3AGHVW2vNYbP5I7QrVng0bgO-PTGWMLlDt8JGg4DKjKX/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      // Mostrar mensaje de éxito
      alert("¡Gracias! Tu información ha sido enviada correctamente.");
      this.reset();
      
      // Resetear días seleccionados
      document.querySelectorAll('.dia-option').forEach(option => {
        option.classList.remove('selected');
        option.querySelector('input[type="checkbox"]').checked = false;
      });
      
      // Actualizar coordenadas nuevamente
      actualizarCoordenadas();
    } catch (error) {
      console.error("Error al enviar el formulario:", error);
      alert("Hubo un error al enviar el formulario. Por favor intente nuevamente.");
    } finally {
      submitBtn.innerHTML = originalText;
      submitBtn.disabled = false;
    }
  });
</script>

</body>
</html>
