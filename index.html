<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Formulario de Participación Turística</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f7f7f7;
      padding: 24px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      font-size: 1.8em;
      color: #333;
    }
    h2 {
      font-size: 1.3em;
      color: #444;
      margin-top: 32px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 16px;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
    }
    textarea {
      resize: vertical;
    }
    .checkbox-group label {
      font-weight: normal;
      display: block;
      margin-top: 6px;
    }
    .hidden {
      display: none;
    }
    .otro-especifique {
      margin-top: 8px;
    }
    button {
      background-color: #007BFF;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 1em;
      border-radius: 6px;
      margin-top: 30px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

<h1>Formulario de Participación Turística Comunitaria</h1>

<form id="formulario">
  <h2>1. Interés y percepción</h2>

  <label>¿Le parece útil una solución digital que integre todos los servicios turísticos del destino?</label>
  <select name="interes_digital" required>
    <option value="">-</option>
    <option>Sí</option>
    <option>No</option>
    <option>No estoy seguro/a</option>
  </select>

  <label>¿Le gustaría que su establecimiento esté presente en esta app?</label>
  <select name="quiere_aparecer" required>
    <option value="">-</option>
    <option>Sí</option>
    <option>Tal vez</option>
    <option>No</option>
  </select>

  <label>¿Estaría dispuesto/a a pagar una cuota mensual por visibilidad en la plataforma?</label>
  <select name="dispuesto_pagar" required>
    <option value="">-</option>
    <option>Sí</option>
    <option>Tal vez</option>
    <option>No</option>
  </select>

  <label>¿Qué rango de cuota mensual le parece razonable?</label>
  <select name="cuota_mensual" class="select-con-otro">
    <option value="">-</option>
    <option>$15 – $20</option>
    <option>$21 – $30</option>
    <option>$31 – $40</option>
    <option>Más de $40</option>
    <option value="otro">Otro</option>
  </select>
  <div class="otro-especifique hidden">
    <label>Especifique otro monto</label>
    <textarea name="cuota_otro" rows="2"></textarea>
  </div>

  <h2>2. Funcionalidades deseadas</h2>
  <label>Seleccione lo que le gustaría que aparezca en la app:</label>
  <div class="checkbox-group">
    <label><input type="checkbox" name="funcionalidades" value="Mapa"> Mapa interactivo</label>
    <label><input type="checkbox" name="funcionalidades" value="Fotos"> Galería de fotos</label>
    <label><input type="checkbox" name="funcionalidades" value="Contacto"> WhatsApp / redes</label>
    <label><input type="checkbox" name="funcionalidades" value="Opiniones"> Opiniones y reseñas</label>
    <label><input type="checkbox" name="funcionalidades" value="Horarios"> Horarios</label>
    <label><input type="checkbox" name="funcionalidades" value="Servicios"> Servicios ofrecidos</label>
    <label><input type="checkbox" name="funcionalidades" value="Reservas"> Reservas online</label>
    <label><input type="checkbox" name="funcionalidades" value="Promociones"> Promociones o descuentos</label>
    <label><input type="checkbox" name="funcionalidades" value="Idiomas"> Traducción en varios idiomas</label>
    <label><input type="checkbox" name="funcionalidades" value="Agenda"> Agenda de eventos locales</label>
    <label><input type="checkbox" name="funcionalidades" value="Otro" class="check-otro"> Otro</label>
  </div>
  <div class="otro-especifique hidden">
    <label>Especifique otra funcionalidad</label>
    <textarea name="func_otro" rows="2"></textarea>
  </div>

  <h2>3. Información del establecimiento</h2>
  <label>Nombre del establecimiento</label>
  <input type="text" name="nombre_establecimiento" required>

  <label>Dirección física o aproximada</label>
  <input type="text" name="direccion" required>

  <label>Tiempo de funcionamiento</label>
  <input type="text" name="tiempo_funcionamiento" required>

  <label>Días y horarios de atención</label>
  <input type="text" name="horarios">

  <label>Capacidad (clientes, camas, mesas, etc.)</label>
  <input type="text" name="capacidad">

  <label>Número aproximado de empleados</label>
  <input type="number" name="empleados" min="0">

  <h2>4. Clasificación del negocio</h2>
  <label>Categoría principal</label>
  <select name="categoria" class="select-con-otro">
    <option value="">-</option>
    <option>Restaurante</option>
    <option>Hospedaje</option>
    <option>Tienda/Souvenir</option>
    <option>Museo</option>
    <option>Supermercado</option>
    <option>Centro de salud</option>
    <option>Transporte</option>
    <option value="otro">Otro</option>
  </select>
  <div class="otro-especifique hidden">
    <label>Especifique otra categoría</label>
    <textarea name="categoria_otro" rows="2"></textarea>
  </div>

  <label>Subcategoría o tipo específico</label>
  <input type="text" name="subcategoria">

  <h2>5. Datos de contacto</h2>
  <label>Nombre del gerente o responsable</label>
  <input type="text" name="gerente" required>

  <label>Teléfono (WhatsApp preferido)</label>
  <input type="tel" name="telefono" required>

  <label>Correo electrónico</label>
  <input type="email" name="correo" required>

  <label>Redes sociales o página web</label>
  <input type="text" name="redes">

  <h2>6. Comentarios y sugerencias</h2>
  <label>¿Desea agregar alguna observación, idea o sugerencia?</label>
  <textarea name="sugerencias" rows="4"></textarea>

  <button type="submit">Enviar</button>
</form>

<script>
  // Manejo dinámico de "otro"
  function toggleOtro(select) {
    const contenedor = select.nextElementSibling;
    contenedor.classList.toggle("hidden", select.value !== "otro");
    if (select.value !== "otro") contenedor.querySelector("textarea").value = "";
  }
  function toggleOtroCheckbox(checkbox) {
    const contenedor = checkbox.closest(".checkbox-group").nextElementSibling;
    contenedor.classList.toggle("hidden", !checkbox.checked);
    if (!checkbox.checked) contenedor.querySelector("textarea").value = "";
  }

  document.querySelectorAll(".select-con-otro").forEach(sel => sel.addEventListener("change", () => toggleOtro(sel)));
  document.querySelectorAll(".check-otro").forEach(chk => chk.addEventListener("change", () => toggleOtroCheckbox(chk)));

  document.getElementById("formulario").addEventListener("submit", async function (e) {
    e.preventDefault();

    const data = Object.fromEntries(new FormData(this));
    data.funcionalidades = [...document.querySelectorAll('input[name="funcionalidades"]:checked')].map(i => i.value).join(', ');

    const response = await fetch("https://script.google.com/macros/s/AKfycbwAEOkH-iso4D9jHr41Uj7JeyUK8h037JwXiLc9qtj7_5dDPD3QlE8-B9t3fx4Qo88Q/exec", {
      method: "POST",
      mode: "no-cors",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(data),
    });

    alert("¡Gracias! Tu información ha sido enviada.");
    this.reset();
  });
</script>

</body>
</html>
